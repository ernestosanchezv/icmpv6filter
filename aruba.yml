name: aruba
mgmt:
  network: custom_mgmt                # management network name
  ipv4-subnet: 172.100.100.0/24       # ipv4 range
  ipv6-subnet: 3fff:172:100:100::/80  # ipv6 range (optional)

topology:
  nodes:
    arubacore:
      kind: aruba_aoscx 
      image: vrnetlab/aruba_arubaos-cx:20230531220439
      startup-config: cfgcore.txt
      #ports:
        #- 8080:80/tcp
        #- 4443:443/tcp
            
    arubaaccess:
      kind: aruba_aoscx 
      image: vrnetlab/aruba_arubaos-cx:20230531220439
      startup-config: cfgaccess.txt
      #ports:
        #- 8080:80/tcp
        #- 4443:443/tcp
      
    PC1:
      kind: linux
      image: docker.io/esanchezv/kaliipv6v2.2:latest
      exec:
      - ip -6 route del default dev eth0
      
    PC2:
      kind: linux
      image: docker.io/esanchezv/kaliipv6v2.2:latest
      exec:
      - ip -6 route del default dev eth0
    PC3:
      kind: linux
      image: docker.io/esanchezv/kaliipv6v2.2:latest
      exec:
      - ip -6 route del default dev eth0
    PC4:
      kind: linux
      image: docker.io/esanchezv/kaliipv6v2.2:latest
      exec:
      - ip -6 route del default dev eth0
    ntop:
      kind: linux
      image: ntop/ntopng:stable
      binds:
       - /home/ernesto/ntopng/data/ntopng:/var/lib/ntopng
      exec:
      - ip -6 route del default dev eth0
      ports: 
      - 3000:3000/tcp  
        
      
  links:
    
    - endpoints: ["arubacore:eth1","arubaaccess:eth1"]
      #mtu: 1500
    - endpoints: ["arubaaccess:eth2","PC1:eth1"]
      mtu: 1500
    - endpoints: ["arubaaccess:eth3","PC2:eth1"]
      mtu: 1500
    - endpoints: ["arubaaccess:eth4","PC3:eth1"]
      mtu: 1500
    - endpoints: ["arubaaccess:eth5","PC4:eth1"]
      mtu: 1500
    - endpoints: ["arubaaccess:eth16","ntop:eth1"]
      mtu: 1500  
    
    
