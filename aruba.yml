name: aruba
mgmt:
  network: mgmt
  ipv4-subnet: 192.168.100.0/24
topology:
  nodes:
    arubacore:
      kind: aruba_aoscx 
      image: vrnetlab/aruba_arubaos-cx:20230531220439
      #startup-config: cfgcore.txt
      ports:
        - 8080:80/tcp
        - 4443:443/tcp
    srl1:
      kind: nokia_srlinux
      image: ghcr.io/nokia/srlinux:24.10.1
      #type: ixrd3
      #startup-config: srlsw/config.json    
        
    #arubaaccess:
      #kind: aruba_aoscx 
      #image: vrnetlab/aruba_arubaos-cx:20230531220439
      #startup-config: cfgaccess.txt
      #ports:
        #- 8080:80/tcp
        #- 4443:443/tcp
    PC1:
      kind: linux
      image: esanchezv/kaliipv6v2.2:latest
      exec:
      #- ip -6 route del default dev eth0
      - ip link add name eth1.10 link eth1 type vlan id 10
      - ip link set dev eth1.10 up
    PC2:
      kind: linux
      image: esanchezv/kaliipv6v2.2:latest
      #exec:
      #- ip -6 route del default dev eth0
    PC3:
      kind: linux
      image: esanchezv/kaliipv6v2.2:latest
      #exec:
      #- ip -6 route del default dev eth0
    PC4:
      kind: linux
      image: esanchezv/kaliipv6v2.2:latest
      #exec:
      #- ip -6 route del default dev eth0
  links:
    
    - endpoints: ["arubacore:eth1","srl1:e1-1"]
      #mtu: 1500
    - endpoints: ["srl1:e1-2","PC1:eth1"]
      mtu: 1500
    - endpoints: ["srl1:e1-3","PC2:eth1"]
      mtu: 1500
    - endpoints: ["srl1:e1-4","PC3:eth1"]
      mtu: 1500
    - endpoints: ["srl1:e1-5","PC4:eth1"]
      mtu: 1500
    
    
